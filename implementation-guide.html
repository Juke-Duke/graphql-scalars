<!DOCTYPE html>
<!-- Built with spec-md https://spec-md.com -->
<html>
<head><meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1"><title>GraphQL Scalars implementation guide</title>
<style>@media (prefers-color-scheme: light){:root{--color-foreground: #333333;--color-background: #ffffff;--color-light-grey: #ccc;--color-grey: #666666;--color-white: #fff;--color-link: #3b5998;--color-subsection-link: var(--color-foreground);--color-toc-link: var(--color-foreground);--color-toc-id: var(--color-link);--color-toggle-border: #bbc;--color-sidebar-background: #f0f0f0;--color-sidebar-viewing-link: #8b9;--color-sidebar-toggle-button: rgba(0, 0, 0, .7);--color-sidebar-shadow-inset: rgba(0, 0, 0, .05);--color-sidebar-shadow: rgba(0, 0, 0, .04);--color-sidebar-large-shadow: rgba(0, 0, 0, .08);--color-pre-background: #fafafa;--color-pre-border: #e9e9e9;--color-code-background: rgba(0, 0, 0, .03);--color-spec-todo: var(--color-grey);--color-spec-example: #fafaff;--color-spec-example-border: #bbbbff;--color-spec-counter-example: #fffafa;--color-spec-counter-border: #ffbbbb;--color-spec-counter-example-link: #98593b;--color-spec-added-border: #396;--color-spec-removed-border: #933;--color-spec-prose: var(--color-grey);--color-spec-quantifier-list: var(--color-link);--color-spec-quantifier-optional: #83238e;--color-spec-condition: #1c7758;--color-spec-param: var(--color-grey);--color-spec-rx: var(--color-foreground);--color-spec-note-border: #f4e925;--color-spec-note-background: #fefef3;--color-spec-note-first-link: #6c6613;--color-source-link: var(--color-light-grey);--color-table-header: #f9f9f9;--color-table-header-border: #d0d0d0;--color-token-inserted: hsla(241, 71%, 34%, .69);--color-token-deleted: hsla(324, 92%, 33%, .74);--color-inserts-background: rgba(0, 200, 30, .08);--color-deletions-background: rgba(200, 0, 0, .08);--selection-background-color: #cacee0;--selection-background-color-link: #f0babe}.selection-link:hover{--selection-background-color: #3b5998}}@media (prefers-color-scheme: dark){:root{--color-foreground: #b6b6b6;--color-background: #262626;--color-light-grey: #373737;--color-grey: #828282;--color-white: rgb(29, 29, 29);--color-link: #89b7da;--color-subsection-link: var(--color-foreground);--color-toc-link: var(--color-foreground);--color-toc-id: var(--color-link);--color-toggle-border: #bbc;--color-sidebar-background: #323232;--color-sidebar-viewing-link: #8b9;--color-sidebar-toggle-button: rgba(220, 220, 220, .7);--color-sidebar-shadow-inset: rgba(0, 0, 0, .05);--color-sidebar-shadow: rgba(0, 0, 0, .04);--color-sidebar-large-shadow: rgba(0, 0, 0, .08);--color-pre-background: #2e2e2e;--color-pre-border: #3a3a3a;--color-code-background: rgba(41, 41, 41, .03);--color-spec-todo: var(--color-grey);--color-spec-example: #2b2b35;--color-spec-example-border: #4d4d6d;--color-spec-counter-example: #322828;--color-spec-counter-border: #664040;--color-spec-counter-example-link: #ff702d;--color-spec-added-border: #396;--color-spec-removed-border: #933;--color-spec-prose: var(--color-grey);--color-spec-quantifier-list: var(--color-link);--color-spec-quantifier-optional: #c689ce;--color-spec-condition: #6fa889;--color-spec-param: var(--color-grey);--color-spec-rx: var(--color-foreground);--color-spec-note-border: #605e39;--color-spec-note-background: #303028;--color-spec-note-first-link: #f0e330;--color-source-link: var(--color-grey);--color-table-header: #373737;--color-table-header-border: #525252;--color-token-inserted: hsla(241, 63%, 70%, .69);--color-token-deleted: hsla(325, 64%, 67%, .74);--color-inserts-background: rgba(0, 200, 30, .08);--color-deletions-background: rgba(200, 0, 0, .08);--selection-background-color: #656565;--selection-background-color-link: #f0babe}.selection-link:hover{--selection-background-color: #829edb}}:root{color:var(--color-foreground);background-color:var(--color-background);font-family:var(--font-family);font-size:15px;line-height:1.5;--mono-font-size: 13px;--indent: 1rem;--list-indent: 1.5rem;--dfn-indent: 0rem;--font-family: Cambria, "Palatino Linotype", Palatino, "Liberation Serif", serif;--font-family-monospace: Consolas, Monaco, "Andale Mono", "Ubuntu Mono", monospace}@media (min-width: 720px){:root{font-size:17px;--mono-font-size: 15px;--indent: 2rem;--list-indent: 2rem;--dfn-indent: 2rem}}body{margin:3rem 0 3rem}article{margin:0 1rem}@media (min-width: 720px){body{margin:6rem auto 3rem;max-width:800px;padding-left:75px;padding-right:clamp(0px,calc((100vw - 800px) * .25),75px)}}.source-link{display:none}@media screen and (min-width: 720px){.source-link{display:block;position:absolute;width:18px;fill:var(--color-source-link);opacity:.3}.source-link:hover{opacity:1}}.outdated-selection-link,.selection-link{position:absolute;display:block;color:var(--color-white);background:var(--selection-background-color);border-radius:4px;font-size:36px;height:23px;line-height:48px;text-align:center;text-decoration:none;width:25px;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none}.outdated-selection-link:hover,.selection-link:hover{text-decoration:none}.outdated-selection-link:before,.selection-link:before{border:5px solid transparent;content:"";height:0;margin-top:-5px;margin-right:-5px;position:absolute;right:1px;top:50%;width:0}@media (max-width: 719px){.outdated-selection-link:before,.selection-link:before{border-bottom-color:var(--selection-background-color);border-top:0;right:50%;top:1px}}@media (min-width: 720px){.outdated-selection-link:before,.selection-link:before{border-left-color:var(--selection-background-color);border-right:0;right:1px;top:50%}}.outdated-selection-link{background:var(--selection-background-color-link);font-size:21px;font-weight:800;line-height:27px}.outdated-selection-link:hover:after{content:"This selection content has changed since this link was created.";font:9pt/11pt var(--font-family);position:absolute;display:block;white-space:nowrap;padding:2px 5px 1px;top:-20px;background:black;color:var(--color-white)}a{color:var(--color-link);text-decoration:none}a:hover{text-decoration:underline}img{max-width:100%}dl{margin:1rem 0 1rem var(--dfn-indent)}dd{margin:.25em 0 .5em var(--indent)}dd+dd{margin-top:1rem}dfn,.spec-ref{font-style:italic}dfn>a,.spec-ref>a{color:inherit}h1,h2,h3,h4,h5,h6{font-weight:bold;margin:3em 0 1em;position:relative}@media (min-width: 720px){header>h1{margin:6em 0 3em}}h1{font-size:1.5em;margin-top:5em}h2,h3{font-size:1.25em}h4,h5,h6{font-size:1em}section{padding-top:1rem;margin-top:-1rem}section.subsec>h6{margin-top:2em}section.subsec>h6>a{color:var(--color-subsection-link)}section .spec-secid{margin-right:1ex}@media (min-width: 720px){section .spec-secid{position:absolute;right:100%;text-align:right;white-space:nowrap}}footer{font-size:75%;opacity:.5;text-align:center;margin-top:12rem}.spec-toc{margin:1rem 0 3rem}.spec-toc .title{content:"Contents";display:block;font-weight:bold;margin:5em 0 1em}.spec-toc .spec-secid{margin-right:1ex}.spec-toc ol{list-style:none;padding-left:0;margin-top:0;margin-bottom:0}.spec-toc ol ol{list-style:none;padding-left:2ex;margin-bottom:.25em}.spec-toc li{position:relative;padding:5px 0 0 30px;margin:-5px 0 0 -30px}.spec-toc a{color:var(--color-toc-link)}.spec-toc a:hover{text-decoration:none}.spec-toc a .spec-secid{color:var(--color-toc-id)}.spec-toc a:hover .spec-secid{text-decoration:underline}.spec-toc .toggle{display:none}.spec-toc .toggle+label{cursor:pointer;left:6px;opacity:1;padding:5px 6px 5px 7px;position:absolute;top:6px;transform:rotate(0deg);transition:all .18s ease-in-out}.spec-toc .toggle+label:after{border-color:transparent transparent transparent var(--color-toggle-border);border-style:solid;border-width:6px 0 6px 7px;content:" ";display:block;height:0;width:0}@media (pointer: fine){.spec-toc .toggle+label{left:10px;padding:3px 5px 3px 6px;top:8px}}.spec-toc .toggle:checked+label{transform:rotate(90deg)}@media (hover: hover){.spec-toc li:not(:hover)>.toggle:checked+label{opacity:0}}.spec-toc .toggle:not(:checked)~ol{max-height:0;overflow:hidden;margin:0}.spec-sidebar-toggle{display:none}.spec-sidebar-toggle+label>.spec-sidebar-button{position:fixed;right:0;top:0;padding:10px 15px;font-size:30px;color:var(--color-sidebar-toggle-button);z-index:2;cursor:pointer;user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none}.spec-sidebar-toggle:checked+label:after{content:"";position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:0}.spec-sidebar{display:none;position:fixed;right:0;top:0;width:min(320px,calc(100vw - 48px));font-size:14px;line-height:1.75;overflow-y:scroll;height:100%;padding:0 0 5rem 30px;box-sizing:border-box;background:var(--color-sidebar-background);box-shadow:inset 1px 0 var(--color-sidebar-shadow-inset),-4px 0 8px -2px var(--color-sidebar-shadow);overscroll-behavior:contain}.spec-sidebar{user-select:none;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none}.spec-sidebar-toggle:checked~.spec-sidebar{display:block}.spec-sidebar .viewing>a:after{color:var(--color-sidebar-viewing-link);content:"\2022";margin-left:1ex}@media (min-width: 1220px){.spec-sidebar-toggle+label{display:none}.spec-sidebar{display:block;box-shadow:inset 1px 0 var(--color-sidebar-shadow-inset),inset 4px 0 8px -2px var(--color-sidebar-large-shadow)!important}body{padding-right:345px}}.spec-note{background:var(--color-spec-note-background);border-left:solid 4px var(--color-spec-note-border);margin:1rem -1rem;min-width:70vw;padding:8px 1rem 12px calc(1rem - 4px);width:-moz-fit-content;width:-webkit-fit-content;width:fit-content}@media (min-width: 720px){.spec-note{min-width:416px}}.spec-note>a:first-child{color:var(--color-spec-note-first-link);display:block;font:italic 11pt/18pt var(--font-family);opacity:.6;user-select:none}.spec-todo{color:var(--color-spec-todo);margin:1em 0 1em 5em;min-height:1em}.spec-todo::before{content:"todo";display:block;float:left;margin-left:-5em;text-transform:uppercase}.spec-index ol{list-style-type:none;margin:0 0 0 var(--indent);padding:0;column-width:210px;column-gap:var(--indent)}.spec-index ol li{width:min-content;white-space:nowrap}pre,code{font-family:var(--font-family-monospace);font-size:var(--mono-font-size);font-weight:inherit}code{background:var(--color-code-background);margin:-2px -1px;padding:3px 3px;white-space:pre-wrap}pre>code{background:none;font-weight:inherit;margin:0;padding:0;white-space:pre}pre{background:var(--color-pre-background);border-left:solid 4px var(--color-pre-border);margin:1rem -1rem;min-width:70vw;padding:12px 1rem 12px calc(1rem - 4px);width:-moz-fit-content;width:-webkit-fit-content;width:fit-content;max-width:calc(100vw - 2rem);overflow-y:auto}@media (min-width: 720px){pre{min-width:40ch}}.spec-example{background:var(--color-spec-example);border-left:solid 4px var(--color-spec-example-border);padding-top:8px}.spec-counter-example{background:var(--color-spec-counter-example);border-left:solid 4px var(--color-spec-counter-border);padding-top:8px}.spec-example>a,.spec-counter-example>a{display:block;font:italic 11pt/18pt var(--font-family);opacity:.6;user-select:none}.spec-counter-example>a{color:var(--color-spec-counter-example-link)}table{border-collapse:collapse}th{background-color:var(--color-table-header)}td,th{border:1px solid var(--color-table-header-border);padding:.4em;vertical-align:baseline}ol,ul{padding-left:var(--list-indent)}li>ol,li>ul{margin-top:.25em;margin-bottom:.5em}li+li{margin-top:.25em}li.task{list-style-type:none;position:relative}li.task>input:first-child{margin-left:0;position:absolute;transform:translateX(calc(-100% - 1ch))}ins{background-color:var(--color-inserts-background);text-decoration:none}del{background-color:var(--color-deletions-background)}.spec-added,.spec-removed{border-left:4px solid;margin-left:-18px;padding-left:14px}.spec-added{border-color:var(--color-spec-added-border)}.spec-removed{border-color:var(--color-spec-removed-border);text-decoration:line-through}.spec-keyword{font-weight:bold}.spec-string{font-family:var(--font-family-monospace);font-size:85%;white-space:pre}var{font-style:italic}*[data-name]{transition:.15s background ease-out;border-radius:2px;padding:0 3px;margin:0 -3px}.spec-semantic,.spec-algo{margin:1rem 0 1rem var(--dfn-indent)}.spec-semantic>.spec-nt::after,.spec-algo>.spec-call:first-child::after{content:":";font-style:normal;font-weight:bold;margin-left:1ex}.spec-semantic ol,.spec-semantic ol ol ol ol,.spec-algo ol,.spec-algo ol ol ol ol{list-style-type:decimal}.spec-semantic ol ol,.spec-semantic ol ol ol ol ol,.spec-algo ol ol,.spec-algo ol ol ol ol ol{list-style-type:lower-alpha}.spec-semantic ol ol ol,.spec-semantic ol ol ol ol ol ol,.spec-algo ol ol ol,.spec-algo ol ol ol ol ol ol{list-style-type:lower-roman}.spec-call>a{color:inherit}.spec-production{margin:1rem 0 1rem var(--dfn-indent)}.spec-production>.spec-nt::after{content:":";font-style:normal;font-weight:bold;margin:0 1ex}.spec-semantic.d2>.spec-nt::after,.spec-production.d2>.spec-nt::after{content:"::"}.spec-semantic.d3>.spec-nt::after,.spec-production.d3>.spec-nt::after{content:":::"}.spec-production>.spec-rhs{line-height:1.1;margin:.25em 0 .5em calc(2 * var(--indent));text-indent:calc(-1 * var(--indent))}.spec-semantic>.spec-rhs{display:inline-block;text-indent:calc(-1 * var(--indent));margin-left:calc(1ex + var(--indent))}.spec-rhs>*{text-indent:0}.spec-oneof{display:inline}.spec-oneof::before{content:"one of";font-style:normal;font-weight:bold}.spec-oneof-grid{max-width:calc(100vw - 2rem);overflow:auto;margin:-1ex -1rem;padding:1ex 1rem}.spec-oneof-grid>table{margin-left:var(--indent)}.spec-oneof .spec-rhs{border:none;margin:0;padding:0 0 0 1rem;vertical-align:baseline;white-space:pre}.spec-oneof .spec-rhs:first-child{padding:0}.spec-rhs .spec-constrained:not(:first-child),.spec-rhs .spec-quantified:not(:first-child),.spec-rhs .spec-nt:not(:first-child),.spec-rhs .spec-t:not(:first-child),.spec-rhs .spec-rx:not(:first-child),.spec-rhs .spec-prose:not(:first-child),.spec-rhs .spec-empty:not(:first-child),.spec-rhs .spec-lookahead:not(:first-child){margin-left:1ex;display:inline-block}.spec-condition{font-size:85%}.spec-condition::before{content:"[if "}.spec-condition.not::before{content:"[if not "}.spec-condition::after{content:"]"}.spec-empty,.spec-prose{color:var(--color-spec-prose)}.spec-nt{font-style:italic}.spec-nt>a{color:inherit}.spec-quantifiers,.spec-params{font-size:65%;font-style:normal;vertical-align:sub}.spec-quantifier.list{color:var(--color-spec-quantifier-list)}.spec-quantifier.optional{color:var(--color-spec-quantifier-optional)}.spec-params,.spec-condition{color:var(--color-spec-condition)}.spec-params::before{content:"["}.spec-params::after{content:"]"}.spec-quantifier:not(:last-child)::after,.spec-param:not(:last-child)::after{color:var(--color-spec-param);content:", "}.spec-param.conditional::before{content:"?"}.spec-param.negated::before{content:"!"}.spec-t,.spec-rx{color:var(--color-spec-rx);font-family:var(--font-family-monospace);font-weight:bold}.spec-butnot::before{color:var(--color-grey);content:"but not";font-family:var(--font-family);font-weight:normal;margin-right:1ex}.spec-butnot>*:not(:first-child)::before{color:var(--color-grey);content:"or";font-family:var(--font-family);font-weight:normal;margin-right:1ex}.spec-rhs .spec-oneof::before,.spec-rhs .spec-butnot::before{margin-left:1ex}.spec-lookahead>*{margin:0!important}.spec-lookahead>*:not(:first-child)::before{color:var(--color-grey);content:", ";font-family:var(--font-family);font-style:normal;font-weight:normal}.spec-lookahead::before{color:var(--color-grey);content:"[lookahead = ";font-family:var(--font-family);font-style:normal;font-weight:normal}.spec-lookahead.not::before{content:"[lookahead \2260  "}.spec-lookahead.set::before{content:"[lookahead \2208  {";margin-right:0}.spec-lookahead.set.not::before{content:"[lookahead \2209  {"}.spec-lookahead.ntset::before{content:"[lookahead \2208  ";margin-right:0}.spec-lookahead.ntset.not::before{content:"[lookahead \2209  "}.spec-lookahead::after{color:var(--color-grey);content:"]"}.spec-lookahead.set::after{content:"}]"}code[class*=language-],pre[class*=language-]{color:var(--color-prism-foreground);background:none;text-shadow:0 1px var(--color-prism-text-shadow);font-family:var(--font-family-monospace);font-size:1em;text-align:left;white-space:pre;word-spacing:normal;word-break:normal;word-wrap:normal;line-height:1.5;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-hyphens:none;-moz-hyphens:none;-ms-hyphens:none;hyphens:none}pre[class*=language-]::-moz-selection,pre[class*=language-] ::-moz-selection,code[class*=language-]::-moz-selection,code[class*=language-] ::-moz-selection{text-shadow:none;background:var(--color-prism-background)}pre[class*=language-]::selection,pre[class*=language-] ::selection,code[class*=language-]::selection,code[class*=language-] ::selection{text-shadow:none;background:var(--color-prism-background)}@media print{code[class*=language-],pre[class*=language-]{text-shadow:none}}pre[class*=language-]{padding:1em;margin:.5em 0;overflow:auto}:not(pre)>code[class*=language-],pre[class*=language-]{background:var(--color-prism-block-background)}:not(pre)>code[class*=language-]{padding:.1em;border-radius:.3em;white-space:normal}.token.atrule,.token.attr-value,.token.keyword,.token.property,.token.selector,.token.attr-name,.token.builtin,.token.entity,.token.url,.token.inserted{color:var(--color-token-inserted);background:none}.token.tag,.token.boolean,.token.number,.token.string,.token.char,.token.constant,.token.symbol,.token.regex,.token.important,.token.variable,.token.function,.token.class-name,.token.deleted{color:var(--color-token-deleted)}.token.comment,.token.prolog,.token.doctype,.token.cdata,.token.description{color:inherit;opacity:.3}.token.punctuation{color:inherit;opacity:.5}.token.operator,.token.namespace{color:inherit;opacity:.7}</style>
<script>(function(){var r,a=[];document.addEventListener("readystatechange",function(){document.readyState==="interactive"&&u()});function u(){var n=document.querySelector('label[for="spec-sidebar-toggle"]');n.addEventListener("scroll",o),n.addEventListener("touchmove",o);function o(d){d.preventDefault()}for(var t=document.getElementsByTagName("section"),e=0;e<t.length;e++)t[e].getAttribute("secid")&&a.push(t[e]);var i=window.scrollY,c=!1;window.addEventListener("scroll",function(d){i=window.scrollY,c||(c=!0,window.requestAnimationFrame(function(){s(i),c=!1}))})}function s(n){for(var o=n+document.documentElement.clientHeight/4,t,e=a.length-1;e>=0;e--)if(a[e].offsetTop<o){t=a[e];break}var i=t&&t.getAttribute("secid");i!==r&&(r&&l(r,!1),i&&l(i,!0),r=i)}function l(n,o){document.getElementById("_sidebar_"+n).className=o?"viewing":"";for(var t=n.split(".");t.length;){var e=document.getElementById("_toggle_"+t.join("."));e&&(e.checked=o),t.pop()}}s(window.scrollY);})();</script>
<script>(function(){var n=document.getElementsByTagName("style")[0].sheet,e;function u(){e&&(n.deleteRule(e),e=void 0)}function d(t){u(),e=n.insertRule('*[data-name="'+t+'"] { background: rgba(230,215,0,0.12); }',n.cssRules.length)}document.documentElement.addEventListener("mouseover",function(t){var a=t.target.attributes["data-name"];a&&d(a.value)});document.documentElement.addEventListener("mouseout",u);})();</script>
<script>(function(){var R="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",o,p,r,g;document.addEventListener("selectionchange",E);window.addEventListener("resize",C);window.addEventListener("hashchange",x);window.addEventListener("load",x);function S(n){y(new URL(n.target.href))}function x(){y(window.location)}function y(n){var e=n.hash.match(/^#sel-([A-Za-z0-9-_]+)$/);if(!!e){g=e[1],r=k(g);var t=r.getBoundingClientRect(),d=Math.max(20,Math.floor((window.innerHeight-t.height)*.4));window.scrollTo(0,window.scrollY+t.y-d);var c=document.getSelection();c.empty(),c.addRange(r),C()}}function E(n){var e=document.getSelection();if(e.isCollapsed)o&&(o.parentNode.removeChild(o),o=null);else{var t=e.getRangeAt(0);(!r||t.compareBoundaryPoints(Range.START_TO_START,r)!==0||t.compareBoundaryPoints(Range.END_TO_END,r)!==0)&&(r=t,g=B(r),C())}}function C(){if(!!r){p||(p=document.getElementsByTagName("article")[0]),o||(o=document.createElement("a"),document.body.appendChild(o)),o.href="#sel-"+g,o.onclick=S,o.className=r.isOutdated?"outdated-selection-link":"selection-link",o.innerText=r.isOutdated?"!":"\u201F";var n=window.innerWidth<720,e=r.getBoundingClientRect();if(n)o.style.left=Math.floor(e.x+e.width/2+window.scrollX-13)+"px",o.style.top=Math.floor(e.bottom+window.scrollY+10)+"px";else{var t=p.getBoundingClientRect().x;o.style.left=Math.floor(t+window.scrollX-37)+"px",o.style.top=Math.floor(e.y+window.scrollY-3)+"px"}}}function B(n){var e="",t=N(n.startContainer),d=N(n.endContainer),c=M(t,d);return l(c),l(t.slice(c.length).concat(n.startOffset)),l(d.slice(c.length).concat(n.endOffset)),i(L(n.toString())),e;function i(a){do e+=R[a&31|(a>31?32:0)],a>>=5;while(a>0)}function l(a){i(a.length);for(var h=0;h<a.length;h++)i(a[h])}}function k(n){for(var e=new Array(64),t=0;t<64;t++)e[R.charCodeAt(t)]=t;var d=0,c=m(),i=m(),l=m(),a=w(),h=i.pop(),P=O(c.concat(i)),T=l.pop(),A=O(c.concat(l)),u=document.createRange();return u.setStart(P,h),u.setEnd(A,T),u.isOutdated=a!==void 0&&a!==L(u.toString()),u;function w(){for(var s=0,v=0;d<n.length;){var f=e[n.charCodeAt(d++)];if(s|=(f&31)<<v,v+=5,f<32)return s}}function m(){var s=w();if(s!=null){for(var v=new Array(s),f=0;f<s;f++)v[f]=w();return v}}}function N(n){for(var e=[];n!=document.body;){var t=n.parentNode;e.push(Array.prototype.indexOf.call(t.childNodes,n)),n=t}return e.reverse()}function O(n){for(var e=document.body,t=0;t<n.length&&e;t++)e=e.childNodes[n[t]];return e}function M(n,e){for(var t=0;t<n.length&&t<e.length&&n[t]===e[t];)t++;return n.slice(0,t)}function L(n){for(var e=2166136261,t=0;t<n.length;++t)e^=n.charCodeAt(t),e+=(e<<1)+(e<<4)+(e<<7)+(e<<8)+(e<<24);return(e>>15^e)&32767}})();</script>
<script>(function(){var a,i,t;document.addEventListener("pointerover",c);document.addEventListener("pointerleave",u);window.addEventListener("resize",d);var s={OL:1,UL:1};function c(r){var e=r.target;if(e.nodeType===Node.ELEMENT_NODE){for(;e&&!e.getAttribute("data-source");){if(s[e.nodeName])return;e=e.parentElement}e&&e!==a&&(a=e,d())}}function d(){if(!!a){i||(i=document.getElementsByTagName("article")[0]),t||(t=document.createElement("a"),t.className="source-link",t.target="_blank",t.innerHTML='<svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27.68 0 1.36.09 2 .27 1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.013 8.013 0 0016 8c0-4.42-3.58-8-8-8z"></path></svg>',document.body.appendChild(t)),t.href=i.getAttribute("data-source-base")+a.getAttribute("data-source");var r=v(a),e=document.createRange();r.nodeType===Node.TEXT_NODE?e.setStart(r,0):e.selectNode(r);var n=e.getBoundingClientRect();e.detach();var o=n.y+n.height/2-9,l=i.getBoundingClientRect().x-95;t.style.left=Math.floor(window.scrollX+l)+"px",t.style.top=Math.floor(window.scrollY+o)+"px"}}function v(r){e:for(;r;){for(var e=r.childNodes,n=0;e&&n<e.length;n++){var o=e[n];if(o.nodeType===Node.ELEMENT_NODE||o.nodeType===Node.TEXT_NODE&&!/^\s*$/.test(o.data)){r=o;continue e}}return r}}function u(){t&&(t.parentNode.removeChild(t),t=null)}})();</script>
</head>
<body><article data-source-base="https://github.com/graphql/graphql-scalars/blame/main/">
<header>
<h1>GraphQL Scalars implementation guide</h1>
<section id="intro">
<p data-source="scalars/implementation-guide.md#L3-L4"><a href="https://spec.graphql.org/draft/#sec-Scalars">Scalar types</a> are primitive types in the GraphQL type system, usable for input and output.</p>
</section>
<nav class="spec-toc">
<div class="title">Contents</div>
<ol>
<li><a href="#sec-Serialization-and-Deserialization"><span class="spec-secid">1</span>Serialization and Deserialization</a></li>
<li><a href="#sec-Observability"><span class="spec-secid">2</span>Observability</a></li>
<li><a href="#sec-Coercion"><span class="spec-secid">3</span>Coercion</a></li>
<li><a href="#sec-Result-Coercion-values-and-function"><span class="spec-secid">4</span>Result Coercion values and function</a></li>
<li><a href="#sec-Input-Coercion-values"><span class="spec-secid">5</span>Input Coercion values</a><ol>
<li><a href="#sec-Literal"><span class="spec-secid">5.1</span>Literal</a></li>
<li><a href="#sec-Raw-Input-Value"><span class="spec-secid">5.2</span>Raw Input Value</a></li>
<li><a href="#sec-Coerced-Input-Value"><span class="spec-secid">5.3</span>Coerced Input Value</a></li>
</ol>
</li>
<li><a href="#sec-Input-coercion-functions"><span class="spec-secid">6</span>Input coercion functions</a><ol>
<li><a href="#sec-Parse-Literal"><span class="spec-secid">6.1</span>Parse Literal</a></li>
<li><a href="#sec-Parse-Raw-Input-Value"><span class="spec-secid">6.2</span>Parse Raw Input Value</a></li>
<li><a href="#sec-Raw-Input-Value-to-Literal"><span class="spec-secid">6.3</span>Raw Input Value to Literal</a></li>
<li><a href="#sec-Implementation-rules"><span class="spec-secid">6.4</span>Implementation rules</a></li>
</ol>
</li>
<li><a href="#sec-Coercion-guidelines"><span class="spec-secid">7</span>Coercion guidelines</a></li>
</ol>
</nav>
</header>
<section id="sec-Serialization-and-Deserialization" secid="1">
<h1 data-source="scalars/implementation-guide.md#L6"><span class="spec-secid" title="link to this section"><a href="#sec-Serialization-and-Deserialization">1</a></span>Serialization and Deserialization</h1>
<p data-source="scalars/implementation-guide.md#L8-L12">A GraphQL request often requires a deserialization step before being executed and a serialization of the execution result. By far the most frequently used example is a GraphQL request sent over HTTP POST via JSON. The request body is a JSON document that needs to be deserialized, containing the GraphQL document and optionally an operation name and variables.</p>
<p data-source="scalars/implementation-guide.md#L14-L17">The execution result then is serialized to JSON for the HTTP response. As JSON serialization is the most common GraphQL serialization format, the spec defines how a GraphQL result should be <a href="https://spec.graphql.org/draft/#sec-JSON-Serialization">serialized to JSON</a>.</p>
<p data-source="scalars/implementation-guide.md#L19-L21">For the discussion of Scalars, the deserialization of the variables is significant. Deserialized variable values are one of the possible inputs a Scalar implementation needs to handle.</p>
</section>
<section id="sec-Observability" secid="2">
<h1 data-source="scalars/implementation-guide.md#L23"><span class="spec-secid" title="link to this section"><a href="#sec-Observability">2</a></span>Observability</h1>
<p data-source="scalars/implementation-guide.md#L25">A Scalar implementation can be observed in three different ways:</p>
<ol>
<li data-source="scalars/implementation-guide.md#L27">the serialized result of an execution in JSON</li>
<li data-source="scalars/implementation-guide.md#L28">the variables JSON input</li>
<li data-source="scalars/implementation-guide.md#L29">the GraphQL literal input</li>
</ol>
<p data-source="scalars/implementation-guide.md#L31-L34">We must choose a serialization format in order to observe a Scalar implementation, as inside the GraphQL type system a Scalar is a primitive and how a Scalar is represented in an execution result before serialization is entirely up to the specific engine.</p>
<p data-source="scalars/implementation-guide.md#L36-L38">We are choosing to only consider JSON. Although JSON is only one possible serialization format, it is by far the most important and the only format defined by the GraphQL spec.</p>
</section>
<section id="sec-Coercion" secid="3">
<h1 data-source="scalars/implementation-guide.md#L40"><span class="spec-secid" title="link to this section"><a href="#sec-Coercion">3</a></span>Coercion</h1>
<p data-source="scalars/implementation-guide.md#L42-L47">The process of ensuring that a value is valid and optionally converting it into a more appropriate representation is called &ldquo;coercion&rdquo;. For Scalars, there are two different coercion mechanisms: &ldquo;Result Coercion&rdquo; and &ldquo;Input Coercion&rdquo;. Both are implemented as a set of functions taking an input and producing an output. Result coercion consists of one function and input coercion of up to three different ones.</p>
<div id="note-10d3c" class="spec-note" data-source="scalars/implementation-guide.md#L49-L51">
<a href="#note-10d3c">Note</a>
The input of a function is not to be confused with &ldquo;Input Coercion&rdquo;. The phrase &ldquo;Input Coercion&rdquo; refers to the overall mechanism, but the word &ldquo;input&rdquo; describes what is consumed by a function.</div>
</section>
<section id="sec-Result-Coercion-values-and-function" secid="4">
<h1 data-source="scalars/implementation-guide.md#L53"><span class="spec-secid" title="link to this section"><a href="#sec-Result-Coercion-values-and-function">4</a></span>Result Coercion values and function</h1>
<p data-source="scalars/implementation-guide.md#L55-L58">Result coercion is implemented as a single function per Scalar type called <code>coerceResult</code>. The input is a &ldquo;raw result value&rdquo; and the output a &ldquo;coerced result value&rdquo;. The raw result value is the output of a previously invoked resolver function, which is then coerced by invoking <code>coerceResult</code>.</p>
<p data-source="scalars/implementation-guide.md#L60-L63">The coerced result value is a leaf value of the overall execution result, which is serialized to JSON. The serialized JSON value can be observed and a GraphQL Scalar spec must clearly define the possible JSON values that a Scalar type can produce.</p>
</section>
<section id="sec-Input-Coercion-values" secid="5">
<h1 data-source="scalars/implementation-guide.md#L65"><span class="spec-secid" title="link to this section"><a href="#sec-Input-Coercion-values">5</a></span>Input Coercion values</h1>
<p data-source="scalars/implementation-guide.md#L67-L68">Input coercion deals with three different kind of values: literal, raw input value and coerced input value.</p>
<section id="sec-Literal" secid="5.1">
<h2 data-source="scalars/implementation-guide.md#L70"><span class="spec-secid" title="link to this section"><a href="#sec-Literal">5.1</a></span>Literal</h2>
<p data-source="scalars/implementation-guide.md#L72-L73">A literal is an element of the GraphQL language representing a fixed value. For example, <code>"foo"</code> is a <code>StringValue</code> literal and <code>123</code> is an <code>IntValue</code> literal.</p>
<p data-source="scalars/implementation-guide.md#L75">Literals are used for:</p>
<ol>
<li data-source="scalars/implementation-guide.md#L77">argument values for fields or directives</li>
<li data-source="scalars/implementation-guide.md#L79">argument default values for fields or directives</li>
<li data-source="scalars/implementation-guide.md#L81">variable default values of a GraphQL operation</li>
</ol>
</section>
<section id="sec-Raw-Input-Value" secid="5.2">
<h2 data-source="scalars/implementation-guide.md#L83"><span class="spec-secid" title="link to this section"><a href="#sec-Raw-Input-Value">5.2</a></span>Raw Input Value</h2>
<p data-source="scalars/implementation-guide.md#L85">A raw input value is one of the following:</p>
<ol>
<li data-source="scalars/implementation-guide.md#L87">variable value for a GraphQL request</li>
<li data-source="scalars/implementation-guide.md#L89">programmatically provided default argument value for a field or directive</li>
<li data-source="scalars/implementation-guide.md#L91">programmatically provided default value for an input object field</li>
<li data-source="scalars/implementation-guide.md#L93-L94">programmatically provided value for a directive argument in schema definition language (SDL)</li>
</ol>
<p data-source="scalars/implementation-guide.md#L96-L98">Not every GraphQL implementation may offer a programmatic way to provide these input values, but every implementation needs to allow for raw input values offered as variable values for a request.</p>
<p data-source="scalars/implementation-guide.md#L100-L102">The details of a raw input value is implementation specific. In JavaScript, it might a Map, in Java it might be an object. The only way to observe a raw input value is through the JSON value before deserialization.</p>
</section>
<section id="sec-Coerced-Input-Value" secid="5.3">
<h2 data-source="scalars/implementation-guide.md#L104"><span class="spec-secid" title="link to this section"><a href="#sec-Coerced-Input-Value">5.3</a></span>Coerced Input Value</h2>
<p data-source="scalars/implementation-guide.md#L106-L107">A coerced input value is a value that is ready for consumption by a resolver. It is coerced either from a literal or raw input value.</p>
</section>
</section>
<section id="sec-Input-coercion-functions" secid="6">
<h1 data-source="scalars/implementation-guide.md#L109"><span class="spec-secid" title="link to this section"><a href="#sec-Input-coercion-functions">6</a></span>Input coercion functions</h1>
<p data-source="scalars/implementation-guide.md#L111-L112">Input coercion is implemented as a set of three functions <code>parseLiteral</code>, <code>parseRawInputValue</code> and <code>rawInputValueToLiteral</code>.</p>
<p data-source="scalars/implementation-guide.md#L114">The diagram illustrates the relationships between input coercion values.</p>
<p data-source="scalars/implementation-guide.md#L116"><img src="input-coercion.png" alt="Input Coercion"/></p>
<section id="sec-Parse-Literal" secid="6.1">
<h2 data-source="scalars/implementation-guide.md#L118"><span class="spec-secid" title="link to this section"><a href="#sec-Parse-Literal">6.1</a></span>Parse Literal</h2>
<p data-source="scalars/implementation-guide.md#L120-L121"><code>parseLiteral</code> takes a GraphQL language literal as input and produces a coerced input value as output.</p>
</section>
<section id="sec-Parse-Raw-Input-Value" secid="6.2">
<h2 data-source="scalars/implementation-guide.md#L123"><span class="spec-secid" title="link to this section"><a href="#sec-Parse-Raw-Input-Value">6.2</a></span>Parse Raw Input Value</h2>
<p data-source="scalars/implementation-guide.md#L125-L126"><code>parseRawInputValue</code> takes a &ldquo;raw input value&rdquo; as input and produces a &ldquo;coerced input value&rdquo;.</p>
</section>
<section id="sec-Raw-Input-Value-to-Literal" secid="6.3">
<h2 data-source="scalars/implementation-guide.md#L128"><span class="spec-secid" title="link to this section"><a href="#sec-Raw-Input-Value-to-Literal">6.3</a></span>Raw Input Value to Literal</h2>
<p data-source="scalars/implementation-guide.md#L130-L131"><code>rawInputValueToLiteral</code> takes a raw input value as input and produces a GraphQL language literal.</p>
<p data-source="scalars/implementation-guide.md#L133-L136">It is used when a literal representation of a raw input value is required. For example the default value for a field in an Introspection response. If a GraphQL implementation doesn&rsquo;t provide a way to define a raw input value programmatically, <code>rawInputValueToLiteral</code> might not be needed.</p>
</section>
<section id="sec-Implementation-rules" secid="6.4">
<h2 data-source="scalars/implementation-guide.md#L138"><span class="spec-secid" title="link to this section"><a href="#sec-Implementation-rules">6.4</a></span>Implementation rules</h2>
<p data-source="scalars/implementation-guide.md#L140">These three functions need to be compatible to each other, specifically:</p>
<p data-source="scalars/implementation-guide.md#L142-L144"><strong>Rule 1:</strong> every valid input for <code>parseRawInputValue</code> must be a valid input for <code>rawInputValueToLiteral</code> and vice versa. This rule ensures that every raw input value can be represented as literal.</p>
<p data-source="scalars/implementation-guide.md#L146-L149"><strong>Rule 2:</strong> for every valid input for <code>parseLiteral</code> there must at least one corresponding input for <code>parseRawInputValue</code> resulting in the same coerced input value. This rule ensures that all literals can be represented as raw input value.</p>
<p data-source="scalars/implementation-guide.md#L151-L152"><strong>Rule 3:</strong> every output for <code>rawInputValueToLiteral</code> must be a valid input for <code>parseLiteral</code>.</p>
<p data-source="scalars/implementation-guide.md#L154-L155">These rules ensure that for every valid literal we have at least one valid raw value and vice versa.</p>
</section>
</section>
<section id="sec-Coercion-guidelines" secid="7">
<h1 data-source="scalars/implementation-guide.md#L157"><span class="spec-secid" title="link to this section"><a href="#sec-Coercion-guidelines">7</a></span>Coercion guidelines</h1>
<p data-source="scalars/implementation-guide.md#L159-L161">While the specifics of the all coercion methods are implementation specific, as a general rule they should only coerce a value when no information is lost and raise an error otherwise.</p>
<p data-source="scalars/implementation-guide.md#L163-L169">Additionally, the input coercion should be liberal in what it accepts, while the result coercion should be much more restricted and never produce different JSON values for logically identical values. For example a <code>MyLocalDate</code> scalar could accept the literals <code>"01-10-2022"</code> and <code>"01102022"</code> as input for the first of October 2022, but the result coercion should always return one of the possible representations. </p>
</section>
</article>
<footer>
Written in <a href="https://spec-md.com" target="_blank">Spec Markdown</a>.</footer>
<input hidden class="spec-sidebar-toggle" type="checkbox" id="spec-sidebar-toggle" aria-hidden /><label for="spec-sidebar-toggle" aria-hidden><div class="spec-sidebar-button">&#x2630;</div></label>
<div class="spec-sidebar" aria-hidden>
<div class="spec-toc">
<div class="title"><a href="#">GraphQL Scalars implementation guide</a></div>
<ol><li id="_sidebar_1"><a href="#sec-Serialization-and-Deserialization"><span class="spec-secid">1</span>Serialization and Deserialization</a></li>
<li id="_sidebar_2"><a href="#sec-Observability"><span class="spec-secid">2</span>Observability</a></li>
<li id="_sidebar_3"><a href="#sec-Coercion"><span class="spec-secid">3</span>Coercion</a></li>
<li id="_sidebar_4"><a href="#sec-Result-Coercion-values-and-function"><span class="spec-secid">4</span>Result Coercion values and function</a></li>
<li id="_sidebar_5"><a href="#sec-Input-Coercion-values"><span class="spec-secid">5</span>Input Coercion values</a>
<input hidden class="toggle" type="checkbox" id="_toggle_5" /><label for="_toggle_5"></label>
<ol>
<li id="_sidebar_5.1"><a href="#sec-Literal"><span class="spec-secid">5.1</span>Literal</a></li>
<li id="_sidebar_5.2"><a href="#sec-Raw-Input-Value"><span class="spec-secid">5.2</span>Raw Input Value</a></li>
<li id="_sidebar_5.3"><a href="#sec-Coerced-Input-Value"><span class="spec-secid">5.3</span>Coerced Input Value</a></li>
</ol>
</li>
<li id="_sidebar_6"><a href="#sec-Input-coercion-functions"><span class="spec-secid">6</span>Input coercion functions</a>
<input hidden class="toggle" type="checkbox" id="_toggle_6" /><label for="_toggle_6"></label>
<ol>
<li id="_sidebar_6.1"><a href="#sec-Parse-Literal"><span class="spec-secid">6.1</span>Parse Literal</a></li>
<li id="_sidebar_6.2"><a href="#sec-Parse-Raw-Input-Value"><span class="spec-secid">6.2</span>Parse Raw Input Value</a></li>
<li id="_sidebar_6.3"><a href="#sec-Raw-Input-Value-to-Literal"><span class="spec-secid">6.3</span>Raw Input Value to Literal</a></li>
<li id="_sidebar_6.4"><a href="#sec-Implementation-rules"><span class="spec-secid">6.4</span>Implementation rules</a></li>
</ol>
</li>
<li id="_sidebar_7"><a href="#sec-Coercion-guidelines"><span class="spec-secid">7</span>Coercion guidelines</a></li>
</ol>
</div>
</div>
</body>
</html>
